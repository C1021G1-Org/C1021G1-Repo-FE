<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
        integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF"
          crossorigin="anonymous"></script>
  <link rel="stylesheet" href="edit-news.component.css">
</head>
<body>
<div class="container nen ">
  <div class="row">
    <div class="col-md-4 order-md-2 mb-4">
      <div class="ct-row-block uk-box-shadow-small">
        <h4 class="d-flex justify-content-between align-items-center mb-3">
          <span class="text-muted">Dự Báo Thời Tiết:</span>
        </h4>
        <ul class="list-group mb-3">
          <li>
            <div uk-grid="" class="uk-grid">
              <div class="uk-width-1-3 uk-first-column"><span class="icon-wt-3"><img
                src="https://nchmf.gov.vn/Upload/WeatherSymbol/icon_resized/2301.png"></span></div>
              <div class="uk-width-2-3"><a class="tt-location">Miền Bắc</a><span
                class="text-weather-location"> Nhiệt độ thấp nhất : 22-24 độ.<br>Nhiệt độ cao nhất : 27-30 độ. </span>
              </div>
            </div>
            <p class="text-list-weather">Sáng và đêm nhiều mây, có mưa nhỏ vài nơi, trưa chiều trời nắng.
              Gió đông đến đông nam cấp 2-3. Sáng sớm trời lạnh.</p></li>
          <li>
            <div uk-grid="" class="uk-grid">
              <div class="uk-width-1-3 uk-first-column"><span class="icon-wt-3"><img
                src="https://nchmf.gov.vn/Upload/WeatherSymbol/icon_resized/2301.png"></span></div>
              <div class="uk-width-2-3"><a class="tt-location">Miền Trung</a><span
                class="text-weather-location"> Nhiệt độ thấp nhất : 22-25 độ.<br>Nhiệt độ cao nhất : 28-31 độ, có nơi trên 31 độ </span>
              </div>
            </div>
            <p class="text-list-weather">Có mây, ngày nắng, chiều tối và đêm có mưa rào và dông vài nơi. Gió
              nhẹ. Trong mưa dông có khả năng xảy ra lốc, sét, mưa đá và gió giật mạnh.</p></li>
          <li>
            <div uk-grid="" class="uk-grid">
              <div class="uk-width-1-3 uk-first-column"><span class="icon-wt-3"><img
                src="https://nchmf.gov.vn/Upload/WeatherSymbol/icon_resized/2501.png"></span></div>
              <div class="uk-width-2-3"><a class="tt-location">Miền Nam</a><span
                class="text-weather-location"> Nhiệt độ thấp nhất : 23-26 độ.<br>Nhiệt độ cao nhất : 29-32 độ, có nơi trên 32 độ. </span>
              </div>
            </div>
            <p class="text-list-weather">Có mây, ngày nắng, chiều tối và đêm có mưa rào và dông vài nơi. Gió
              đông bắc cấp 2-3. Trong mưa dông có khả năng xảy ra lốc, sét, mưa đá và gió giật mạnh.</p>
          </li>
        </ul>

      </div>
      <hr>
    </div>
    <div class="col-md-8 order-md-1">
      <h4 class="mb-3">Cập Nhập Tin Tức</h4>
      <form [formGroup]="newsForm" (ngSubmit)="update()" class="col-form-label" novalidate="">
        <div class="form-row">
          <input type="hidden" formControlName="id">
          <div class="form-group col-md-4">
            <label for="nameNews">Tên người viết(<span style="color: red">*</span>)</label>
            <input type="text" class="form-control" id="nameNews" name="nameNews" formControlName="nameNews">

            <div class="mb-3 text-danger" style="width: 100%;"
                 *ngIf="newsForm.get('nameNews').hasError('required') &&
                  (newsForm.get('nameNews').dirty || newsForm.get('nameNews').touched)">
              Vui lòng không được để trống.
            </div>
          </div>

          <div class="form-group col-md-4">
            <label for="codeNews">Mã bài viết(<span style="color: red">*</span>)</label>
            <input type="text" class="form-control" id="codeNews" formControlName="codeNews"
                   placeholder="Nhập mã:">

            <div class="mb-3 text-danger" style="width: 100%;"
                 *ngIf="newsForm.get('codeNews').hasError('required') &&
                  (newsForm.get('codeNews').dirty || newsForm.get('codeNews').touched)">
              Vui lòng không được để trống.
            </div>

            <div class="mb-3 text-danger" style="width: 100%;"
                 *ngIf="newsForm.get('codeNews').hasError('pattern') &&
                  (newsForm.get('codeNews').dirty || newsForm.get('codeNews').touched)">
              Vui lòng nhập đúng định dạng TT-XXXX.
            </div>
          </div>

          <div class="form-group col-md-4">
            <label for="dateNews">Ngày viết(<span style="color: red">*</span>)</label>
            <input type="date" class="form-control" id="dateNews" name="dateNews" formControlName="presentDate" disabled>
            <div class="mb-3 text-danger" style="width: 100%;"
                 *ngIf="newsForm.get('dateNews').hasError('required') &&
                  (newsForm.get('dateNews').dirty || newsForm.get('dateNews').touched)">
              Vui lòng không được để trống.
            </div>
          </div>
        </div>
        <hr class="mb-4">
        <div class="form-row">
          <div class="col-md-6 mb-3">
            <label for="imageNews">Thêm ảnh(<span style="color: red">*</span>)</label>
            <br>
            <br>
            <br>
            <br>
            <br>
            <div  class="input-group">
              <div  class="custom-file">
                <img style="width: 200px;height: 200px" alt="avatar" id="imageNews" [src]="imageThis">
              </div>


            </div>
            <br>
            <br>
            <br>
            <br>
            <input style="color: gray" type="file" id="1" (change)="showPreview($event)">
            <div class="mb-3 text-danger" style="width: 100%;"
                 *ngIf="newsForm.get('imageNews').hasError('required') &&
                  (newsForm.get('imageNews').dirty || newsForm.get('imageNews').touched)">
              Vui lòng không được để trống.
            </div>
          </div>

          <div class="form-group col-md-6">
            <label for="category">Chọn danh mục(<span style="color: red">*</span>):</label><br>

            <select class="form-control" id="category"  formControlName="category">
              <option *ngFor="let ca of category" [ngValue]="ca"
                      [selected]="ca.id===newsForm.get('category').value.id">{{ca.name}}</option>
            </select>
          </div>
        </div>
        <br>

        <div class="form-row">
          <div class="form-group col-md-12">
            <label for="titleNews" class="form-label">Tiêu đề(<span style="color: red">*</span>)</label>
            <textarea class="form-control" id="titleNews" rows="3"
                      formControlName="titleNews"></textarea>
            <div class="mb-3 text-danger" style="width: 100%;"
                 *ngIf="newsForm.get('titleNews').hasError('required') &&
                  (newsForm.get('titleNews').dirty || newsForm.get('titleNews').touched)">
              Vui lòng không được để trống.
            </div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group col-md-12">
            <label for="descriptionNews" class="form-label">Nội dung(<span
              style="color: red">*</span>)</label>
            <textarea class="form-control" id="descriptionNews" rows="7"
                      formControlName="descriptionNews"></textarea>
            <div class="mb-3 text-danger" style="width: 100%;"
                 *ngIf="newsForm.get('descriptionNews').hasError('required') &&
                  (newsForm.get('descriptionNews').dirty || newsForm.get('descriptionNews').touched)">
              Vui lòng không được để trống.
            </div>
          </div>
        </div>


        <br>
        <div class="d-flex justify-content-center">
          <button class="btn btn-dark mx-2 " [routerLink]="['/']">Trở về</button>
          <button [disabled]="newsForm.invalid"
                  class="btn btn-danger mx-2" type="submit">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                 class="bi bi-pencil-fill" viewBox="0 0 16 16">
              <path
                d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
            </svg>
            Cập nhật
            <span *ngIf="loading"  class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

</body>


